<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.1.189">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Dynamic, Interactive Tables, Listings and Figures</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
</style>


<script src="dynamic-tlf_files/libs/clipboard/clipboard.min.js"></script>
<script src="dynamic-tlf_files/libs/quarto-html/quarto.js"></script>
<script src="dynamic-tlf_files/libs/quarto-html/popper.min.js"></script>
<script src="dynamic-tlf_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="dynamic-tlf_files/libs/quarto-html/anchor.min.js"></script>
<link href="dynamic-tlf_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="dynamic-tlf_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="dynamic-tlf_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="dynamic-tlf_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="dynamic-tlf_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div class="page-layout-custom">  

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Dynamic, Interactive Tables, Listings and Figures</h1>
</div>



<div class="quarto-title-meta">

    
    
  </div>
  

</header>

<div class="grid">
<div class="g-col-2 w-100 p-2 mysidebar">
<div class="cell">
<div class="cell-output-display">

<div class="col-sm-12" align="center">
<p>Choose variables for the anchor table then click Make Table</p>
<hr>
<div id="treat_vars_ui" class="shiny-html-output"></div>
<br>
<div id="count_vars_ui" class="shiny-html-output"></div>
<br>
<div id="numeric_vars_ui" class="shiny-html-output"></div>
<br>
<button id="go" type="button" class="btn btn-default action-button" style="border-color: #E10033">Make Table</button>
<hr>
<p>
Next, click any
<span style="color:#E10033">result cell</span>
of the anchor table to view associated tables, listings and figures for that subset associated on the right.
</p>
</div>
</div>
</div>
</div>
<div class="g-col-5 w-100 p-2">
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true" href="">Anchor Table</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<div class="cell">
<div class="cell-output-display">

<div id="anchor_table" class="reactable html-widget html-widget-output" style="width:auto; height:auto; " data-reactable-output="anchor_table"></div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="g-col-5 w-100 p-2">
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-2-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-1" role="tab" aria-controls="tabset-2-1" aria-selected="true" href="">Table</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-2" role="tab" aria-controls="tabset-2-2" aria-selected="false" href="">Figure</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-3" role="tab" aria-controls="tabset-2-3" aria-selected="false" href="">Listing 1</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-4" role="tab" aria-controls="tabset-2-4" aria-selected="false" href="">Listing 2</a></li></ul>
<div class="tab-content">
<div id="tabset-2-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-2-1-tab">
<div class="cell">
<div class="cell-output-display">
<div id="ae_ctrl" class="shiny-html-output"></div>
</div>
<div class="cell-output-display">

<div id="ae" class="reactable html-widget html-widget-output" style="width:auto; height:auto; " data-reactable-output="ae"></div>
</div>
</div>
</div>
<div id="tabset-2-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-2-tab">
<div class="cell">
<div class="cell-output-display">
<div id="figure" style="width:100%; height:500px; " class="highchart html-widget html-widget-output"></div>
</div>
</div>
</div>
<div id="tabset-2-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-3-tab">
<div class="cell">
<div class="cell-output-display">
<div id="listing1_ctrl" class="shiny-html-output"></div>
</div>
<div class="cell-output-display">

<div id="listing" class="reactable html-widget html-widget-output" style="width:auto; height:auto; " data-reactable-output="listing"></div>
</div>
</div>
</div>
<div id="tabset-2-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-4-tab">
<div class="cell">
<div class="cell-output-display">
<div id="listing2_ctrl" class="shiny-html-output"></div>
</div>
<div class="cell-output-display">

<div id="listing2" class="reactable html-widget html-widget-output" style="width:auto; height:auto; " data-reactable-output="listing2"></div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="cell" data-context="server">

</div>
<div class="cell" data-context="server">

</div>
<div class="cell" data-context="server">

</div>
<div class="cell" data-context="server">

</div>
<div class="cell" data-context="server">

</div>
<div class="cell" data-context="server">

</div>
<div class="cell" data-context="server">

</div>
<div class="cell" data-context="server">

</div>
<p>
<script type="application/shiny-prerendered" data-context="server-start">
# libs
library(tidyverse)
library(haven)
library(reactable)
library(reactablefmtr)
library(highcharter)
library(Tplyr)

# data
adsl <- read_xpt(url("https://github.com/phuse-org/TestDataFactory/raw/main/Updated/TDF_ADaM/adsl.xpt"))
adae <- read_xpt(url("https://github.com/phuse-org/TestDataFactory/raw/main/Updated/TDF_ADaM/adae.xpt"))
advs <- read_xpt(url("https://github.com/phuse-org/TestDataFactory/raw/main/Updated/TDF_ADaM/advs.xpt"))
</script>
 
<script type="application/shiny-prerendered" data-context="server">
# This part of the server renders ui selectors for the grouping, frequency and numeric variables. 
# It's done this way so in the future we can upload custom data - for now it's fixed using the adsl data set

output$treat_vars_ui <- renderUI({
  selectInput("treat_vars",
    "Group Variable",
    multiple = FALSE,
    selected = "TRT01A",
    choices = names(Filter(is.character, adsl))
  )
})

output$count_vars_ui <- renderUI({
  selectInput("count_vars",
    "Frequency Variables",
    multiple = TRUE,
    selected = c("SEX", "AGEGR1", "ETHNIC"),
    choices = names(Filter(is.character, adsl))
  )
})

output$numeric_vars_ui <- renderUI({
  selectInput("numeric_vars",
    "Numeric Variables",
    multiple = TRUE,
    selected = "BMIBL",
    choices = names(Filter(is.numeric, adsl))
  )
})
</script>
 
<script type="application/shiny-prerendered" data-context="server">
# This part of the server captures choices for each of the variables into separate reactives
# These reactives are then used in constructing the anchor table

treat_vars <- reactive({
  input$treat_vars
})

count_vars <- reactive({
  data.frame(vars = input$count_vars)
})

numeric_vars <- reactive({
  data.frame(vars = input$numeric_vars)
})
</script>
 
<script type="application/shiny-prerendered" data-context="server">
# This part of the server creates the base anchor table using Tplyr
# We currently need at least one count and at least one numeric variable

# Specify anchor table
base_table <- reactive({
  tplyr_table(adsl, !!sym(treat_vars())) %>%
    # loop through count variables
    (function(x) {
      for (i in 1:nrow(count_vars())) {
        x <- add_layer(
          x,
          group_count(!!sym(count_vars()$vars[[i]]),
            b = !!count_vars()$vars[[i]]
          ) %>%
            add_total_row(f_str("xxxx", n))
        )
      }
      x
    })() %>%
    # loop through numeric variables
    (function(x) {
      for (i in 1:nrow(numeric_vars())) {
        x <- add_layer(
          x,
          group_desc(!!sym(numeric_vars()$var[[i]]),
            b = !!numeric_vars()$var[[i]]
          )
        )
      }
      x
    })() %>%
    # add the total arm
    add_total_group()
}) %>%
  bindEvent(input$go)

# Build anchor table, with Tplyr metadata
meta <- reactive({
  req(base_table())
  build(base_table(), metadata = TRUE) %>%
    apply_row_masks(row_breaks = TRUE)
})

# Setup trackers for what cell users click (row + col =  cell)
row <- reactive(meta()[input$row$index, 1]$row_id)
col <- reactive(input$col$column)

# Display anchor table using reactable
output$anchor_table <- renderReactable({
  reactable(
    meta() %>%
      select(-starts_with("ord"), -row_id) %>%
      relocate("var1_Total", .after = last_col()),
    # this JS captures the cell coordinate into input$row, and input$col (row + col = cell)
    onClick = JS("function(rowInfo, colInfo) {
                    if (window.Shiny) {
                      Shiny.setInputValue('row', { index: rowInfo.index + 1 })
                      Shiny.setInputValue('col', { column: colInfo.id })
                      }}"),
    pagination = FALSE,
    highlight = TRUE,
    sortable = FALSE,
    defaultColDef = colDef(
      align = "center",
      html = TRUE
    ),
    style = list(fontSize = "0.5rem"),
    columns = list(
      row_label1 = colDef(
        name = "",
        align = "center"
      ),
      row_label2 = colDef(
        name = "",
        align = "left"
      )
    )
  )
})
</script>
 
<script type="application/shiny-prerendered" data-context="server">
# This part of the server tracks the cells that are clicked on the anchor table
# We use row + col coordinates of the clicked cell and funnel this to Tplyr::get_meta_subset()
# The result is a intermediary (reactive) data frame of participant ID's I use to construct additional tables, listings and figures (see line 246-248 for an example)

sub_data <- reactive({
  # control
  req(base_table(), row(), col())
  tmp <- get_meta_subset(base_table(), row(), col())
  tmp
})
</script>
 
<script type="application/shiny-prerendered" data-context="server">
# This part of the server creates the adverse events (ae) table

output$ae <- renderReactable({
  # control
  validate(need(nrow(sub_data()) > 0, "No data to display"))

  # subset clicked data from adae
  inp <- adae %>%
    inner_join(sub_data(), by = c("USUBJID" = "USUBJID")) %>%
    inner_join(adsl, by = c("USUBJID" = "USUBJID"))

  # build ae table
  t2 <- tplyr_table(inp, TRT01P) %>%
    add_layer(
      group_count(vars(AEBODSYS, AEDECOD))
    ) %>%
    build()

  # light post processing on content
  t2 <- t2 %>%
    mutate(
      row_label2 = stringr::str_to_title(row_label2),
      row_label1 = stringr::str_to_title(row_label1)
    ) %>%
    # make cells hyperlinkable to Medline
    mutate(prep = stringr::str_replace_all(row_label2, " ", "&nbsp;")) %>%
    mutate(prep = glue::glue('<a href="https://vsearch.nlm.nih.gov/vivisimo/cgi-bin/query-meta?v%3Aproject=medlineplus&v%3Asources=medlineplus-bundle&query={prep}" target="_blank">{prep}<\u002fa>')) %>%
    select(row_label1, prep, starts_with("var"))

  # display ae table
  t2 %>%
    reactable(.,
      elementId = "ae",
      width = "auto",
      groupBy = c("row_label1"),
      pagination = FALSE,
      highlight = TRUE,
      sortable = FALSE,
      compact = TRUE,
      searchable = TRUE,
      defaultColDef = colDef(
        align = "left",
        html = TRUE
      ),
      style = list(fontSize = "0.5rem"),
      columns = list(
        row_label1 = colDef(
          name = "System Organ Class"
        ),
        prep = colDef(
          name = "System Organ Class<br>&nbsp;Preferred Term"
        )
      )
    )
})

# Create button to expand all nested terms

output$ae_ctrl <- renderUI({
   # control
  validate(need(nrow(sub_data()) > 0, "No data to display"))
  
  # create action button for expand/collapse SOCs -> PTs
  actionButton("expand", "Expand SOCs",
    style = "border-color: #E10033",
    class = "btn btn-secondary btn-sm",
    onclick = "Reactable.toggleAllRowsExpanded('ae')"
  )
})
</script>
 
<script type="application/shiny-prerendered" data-context="server">
# This part of the server creates the adverse events (ae) drill down figure

output$figure <- renderHighchart({
  # control
  validate(need(nrow(sub_data()) > 0, "No data to display"))

  # modify existing theme - this is fairly close to lux :D
  my_theme <- hc_theme_bloom()
  my_theme$drilldown$activeAxisLabelStyle$color <- "00FF00"

  # start computations (AEBODSYS is SOC)
  top_socs <- adae %>%
    inner_join(sub_data(), by = c("USUBJID" = "USUBJID")) %>%
    count(AEBODSYS, sort = TRUE) %>%
    slice(1:4)

  # get PT data (AEDECOD is PT)
  pt_data <- adae %>%
    inner_join(top_socs) %>%
    select(AEBODSYS, AEDECOD, AESEV)

  # calc PTs per SOC
  pt_calc <- pt_data %>%
    group_by(AEBODSYS) %>%
    count(AEDECOD, sort = TRUE) %>%
    ungroup()

  # keep only top 10 PTs
  pt_calc <- pt_calc %>%
    arrange(AEBODSYS, desc(n)) %>%
    group_by(AEBODSYS) %>%
    slice(1:10)

  # order the data for the sub-graph
  # we want the PTs with the highest overall count (i.e. across severity) to show in descending order
  sev_calc <- pt_calc %>%
    inner_join(pt_data %>%
      select(AEBODSYS, AEDECOD, AESEV)) %>%
    count(AEBODSYS, AEDECOD, AESEV) %>%
    group_by(AEDECOD) %>%
    mutate(order = sum(n)) %>%
    ungroup() %>%
    arrange(desc(order)) %>%
    select(-order)

  # sub graph (2nd level)
  pt_graph <- sev_calc %>%
    group_nest(AEBODSYS) %>%
    mutate(
      id = AEBODSYS,
      type = "column",
      data = map(data,
        mutate,
        name = AEDECOD, y = n,
        color = colorize(AESEV, colors = c("#000000", "#767676", "#E4E4E4"))
      ),
      data = map(data, list_parse)
    )


  # main graph (1st level)
  hchart(top_socs,
    "column",
    colorByPoint = TRUE,
    hcaes(x = AEBODSYS, y = n, drilldown = AEBODSYS)
  ) %>%
    hc_drilldown(
      allowPointsDrillDown = F,
      series = c(list_parse(pt_graph))
    ) %>%
    hc_add_theme(my_theme) %>%
    hc_xAxis(title = list(text = "System Organ Class → Preferred Term")) %>%
    # custom JS for the hovering on the drill down bar chart!
    # this essentially acts as a compact legend :)
    # the JS conditional below specifies a different legend for 1st and 2nd levels of the chart
    hc_tooltip(formatter = JS("function(){
                              if(this.point.AEDECOD === undefined) {
                                return ('<b>Term:<\u002fb> ' +
                                        this.point.AEBODSYS  +
                                        '<br> <b>Severity:<\u002fb> ' +
                                        'All Severity' +
                                        '<br> <b>Count:<\u002fb> ' +
                                        this.point.n)
                              } else {
                                return ('<b>Term:<\u002fb> ' +
                                        this.point.AEDECOD  +
                                        '<br> <b>Severity:<\u002fb> ' +
                                        this.point.AESEV +
                                        '<br> <b>Count:<\u002fb> ' +
                                        this.point.n)
                              }}"))
})
</script>
 
<script type="application/shiny-prerendered" data-context="server">
# This part of the server creates patient listing 1

output$listing <- renderReactable({
  # control
  validate(need(nrow(sub_data()) > 0, "No data to display"))

  # subset clicked data from adsl (completer flags)
  # perform some recoding of completer flag variables
  listing_data <- sub_data() %>%
    left_join(adsl) %>%
    select(USUBJID, ARM, COMP8FL, COMP16FL, COMP24FL) %>%
    # isn't it awesome we can do things like this?!
    mutate(across(ends_with("FL"),
      .fns = ~ case_when(
        . == "N" ~ "❌ No",
        . == "Y" ~ "✅ Yes",
        TRUE ~ "⚠️ Unknown"
      )
    ))
  
  # display patient listing 1
  listing_data %>%
    reactable(.,
      width = "auto",
      highlight = TRUE,
      filterable = TRUE,
      defaultPageSize = 10,
      sortable = FALSE,
      searchable = TRUE,
      compact = TRUE,
      defaultColDef = colDef(
        align = "center",
        html = TRUE
      ),
      columns = list(
        COMP8FL = colDef(name = "8 Weeks"),
        COMP16FL = colDef(name = "16 Weeks"),
        COMP24FL = colDef(name = "24 Weeks")
      ),
      columnGroups = list(
        colGroup("Study Completion Milestone",
          columns = c("COMP8FL", "COMP16FL", "COMP24FL")
        )
      ),
      style = list(fontSize = "0.5rem")
    )
})

# Create download button control

output$listing1_ctrl <- renderUI({
   # control
  validate(need(nrow(sub_data()) > 0, "No data to display"))
  
  # create action button for downloading
  actionButton("dl", "Export CSV",
    style = "border-color: #E10033",
    class = "btn btn-secondary btn-sm",
    onclick = "Reactable.downloadDataCSV('listing', 'listing.csv')"
  )
})
</script>
 
<script type="application/shiny-prerendered" data-context="server">
# This part of the server creates patient listing 2

output$listing2 <- renderReactable({
  # control
  validate(
    need(nrow(sub_data()) > 0, "No data to display"),
    need(input$time, "Select an analysis time point"),
    need(input$param, "Select a vital signs parameter")
  )

  # subset clicked data from advs (vital signs)
  # dependent on shiny inputs (input$time, input$param), which are defined below
  # note: not all participants in an anchor table necessarily have to have vital sign data!
  listing_data2 <- sub_data() %>%
    select(USUBJID) %>%
    left_join(advs) %>%
    select(USUBJID, AVISIT, PCHG, PARAM, ATPT) %>%
    filter(
      AVISIT == input$time,
      PARAM == input$param
    ) %>%
    pivot_wider(values_from = PCHG, names_from = ATPT, id_cols = USUBJID) %>%
    select(USUBJID,
      t1 = 3,
      t3 = 4,
      t5 = 2
    ) %>%
    arrange(t1, t3, t5)

  # display patient listing 2
  # this part uses reactablefmtr to help draw data bars inside the reactable
  listing_data2 %>%
    reactable(.,
      width = "auto",
      pagination = TRUE,
      defaultPageSize = 10,
      highlight = TRUE,
      style = list(fontSize = "0.5rem"),
      defaultColDef = colDef(
        align = "center",
        cell = data_bars(listing_data2,
          text_position = "above",
          animation = "width 3s ease-out",
          box_shadow = TRUE,
          number_fmt = scales::label_percent(scale = 1),
          fill_color = c("#E10033", "#767676")
        )
      ),
      columns = list(
        t1 = colDef(name = "1 Minute"),
        t3 = colDef(name = "3 Minute"),
        t5 = colDef(name = "5 Minute")
      ),
      columnGroups = list(
        colGroup("% Change from Baseline by Measurement Time",
          columns = c("t1", "t3", "t5")
        )
      )
    )
})

# Create shiny inputs that control Vital Signs parameter and Visit

output$listing2_ctrl <- renderUI({
  validate(need(nrow(sub_data()) > 0, "No data to display"))

  # create two select inputs; one for blood pressure parameters, one for visit
  tagList(
    div(
      style = "display: inline-block;vertical-align:top;",
      selectInput("param",
        "Vital Sign",
        choices = c(
          "DBP (mmHg)" = "Diastolic Blood Pressure (mmHg)",
          "SBP (mmHg)" = "Systolic Blood Pressure (mmHg)"
        )
      )
    ),
    div(
      style = "display: inline-block;vertical-align:top;",
      selectInput("time",
        "Visit",
        choices = unique(advs$AVISIT)[-1:-2]
      )
    )
  )
})
</script>
 
<script type="application/shiny-prerendered" data-context="server-extras">
ojs_define <- function(..., .session = shiny::getDefaultReactiveDomain()) {
  quos <- rlang::enquos(...)
  vars <- rlang::list2(...)
  nm <- names(vars)
  if (is.null(nm)) {
    nm <- rep_len("", length(vars))
  }
  mapply(function(q, nm, val) {
    # Infer name, if possible
    if (nm == "") {
      tryCatch({
        nm <- rlang::as_name(q)
      }, error = function(e) {
        code <- paste(collapse = "\n", deparse(rlang::f_rhs(q)))
        stop("ojs_define() could not create a name for the argument: ", code)
      })
    }
    .session$output[[nm]] <- val
    outputOptions(.session$output, nm, suspendWhenHidden = FALSE)
    .session$sendCustomMessage("ojs-export", list(name = nm))
    NULL
  }, quos, nm, vars, SIMPLIFY = FALSE, USE.NAMES = FALSE)
  invisible()
}
</script>
</p>
<!--html_preserve-->

<script type="application/shiny-prerendered" data-context="dependencies">
{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["core-js"]},{"type":"character","attributes":{},"value":["2.5.3"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/core-js"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["shim.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["reactR"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.4.4"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["react"]},{"type":"character","attributes":{},"value":["17.0.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/react"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["react.min.js","react-dom.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["reactR"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.4.4"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["reactwidget"]},{"type":"character","attributes":{},"value":["1.0.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/react-tools"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["react-tools.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["reactR"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.4.4"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["htmlwidgets"]},{"type":"character","attributes":{},"value":["1.5.4"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["htmlwidgets.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["htmlwidgets"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.5.4"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["reactable-binding"]},{"type":"character","attributes":{},"value":["0.3.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["htmlwidgets"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["reactable.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["reactable"]},{"type":"logical","attributes":{},"value":[false]},{"type":"character","attributes":{},"value":["0.3.0"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["core-js"]},{"type":"character","attributes":{},"value":["2.5.3"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/core-js"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["shim.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["reactR"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.4.4"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["react"]},{"type":"character","attributes":{},"value":["17.0.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/react"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["react.min.js","react-dom.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["reactR"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.4.4"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["reactwidget"]},{"type":"character","attributes":{},"value":["1.0.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/react-tools"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["react-tools.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["reactR"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.4.4"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["htmlwidgets"]},{"type":"character","attributes":{},"value":["1.5.4"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["htmlwidgets.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["htmlwidgets"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.5.4"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["reactable-binding"]},{"type":"character","attributes":{},"value":["0.3.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["htmlwidgets"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["reactable.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["reactable"]},{"type":"logical","attributes":{},"value":[false]},{"type":"character","attributes":{},"value":["0.3.0"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["htmlwidgets"]},{"type":"character","attributes":{},"value":["1.5.4"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["htmlwidgets.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["htmlwidgets"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.5.4"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["jquery"]},{"type":"character","attributes":{},"value":["3.5.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["htmlwidgets/lib/jquery"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["jquery.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["highcharter"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.9.4"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["proj4js"]},{"type":"character","attributes":{},"value":["2.3.15"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["htmlwidgets/lib/proj4js"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["proj4.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["highcharter"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.9.4"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["highcharts"]},{"type":"character","attributes":{},"value":["9.3.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["htmlwidgets/lib/highcharts"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["highcharts.js","highcharts-3d.js","highcharts-more.js","modules/stock.js","modules/map.js","modules/data.js","modules/exporting.js","modules/offline-exporting.js","modules/drilldown.js","modules/item-series.js","modules/overlapping-datalabels.js","modules/annotations.js","modules/export-data.js","modules/funnel.js","modules/heatmap.js","modules/treemap.js","modules/sankey.js","modules/dependency-wheel.js","modules/organization.js","modules/solid-gauge.js","modules/streamgraph.js","modules/sunburst.js","modules/vector.js","modules/wordcloud.js","modules/xrange.js","modules/tilemap.js","modules/venn.js","modules/gantt.js","modules/timeline.js","modules/parallel-coordinates.js","modules/bullet.js","modules/coloraxis.js","modules/dumbbell.js","modules/lollipop.js","modules/series-label.js","plugins/motion.js","custom/reset.js","modules/boost.js"]},{"type":"character","attributes":{},"value":["css/motion.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["highcharter"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.9.4"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["highchart-binding"]},{"type":"character","attributes":{},"value":["0.9.4"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["htmlwidgets"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["highchart.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["highcharter"]},{"type":"logical","attributes":{},"value":[false]},{"type":"character","attributes":{},"value":["0.9.4"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["core-js"]},{"type":"character","attributes":{},"value":["2.5.3"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/core-js"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["shim.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["reactR"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.4.4"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["react"]},{"type":"character","attributes":{},"value":["17.0.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/react"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["react.min.js","react-dom.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["reactR"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.4.4"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["reactwidget"]},{"type":"character","attributes":{},"value":["1.0.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/react-tools"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["react-tools.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["reactR"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.4.4"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["htmlwidgets"]},{"type":"character","attributes":{},"value":["1.5.4"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["htmlwidgets.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["htmlwidgets"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.5.4"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["reactable-binding"]},{"type":"character","attributes":{},"value":["0.3.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["htmlwidgets"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["reactable.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["reactable"]},{"type":"logical","attributes":{},"value":[false]},{"type":"character","attributes":{},"value":["0.3.0"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["core-js"]},{"type":"character","attributes":{},"value":["2.5.3"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/core-js"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["shim.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["reactR"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.4.4"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["react"]},{"type":"character","attributes":{},"value":["17.0.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/react"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["react.min.js","react-dom.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["reactR"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.4.4"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["reactwidget"]},{"type":"character","attributes":{},"value":["1.0.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/react-tools"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["react-tools.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["reactR"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.4.4"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["htmlwidgets"]},{"type":"character","attributes":{},"value":["1.5.4"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["htmlwidgets.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["htmlwidgets"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.5.4"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["reactable-binding"]},{"type":"character","attributes":{},"value":["0.3.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["htmlwidgets"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["reactable.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["reactable"]},{"type":"logical","attributes":{},"value":[false]},{"type":"character","attributes":{},"value":["0.3.0"]}]}]}
</script>
<!--/html_preserve-->
<!--html_preserve-->

<script type="application/shiny-prerendered" data-context="execution_dependencies">
{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["packages"]}},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["packages","version"]},"class":{"type":"character","attributes":{},"value":["data.frame"]},"row.names":{"type":"integer","attributes":{},"value":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94]}},"value":[{"type":"character","attributes":{},"value":["assertthat","backports","base","broom","cellranger","cli","colorspace","compiler","crayon","curl","data.table","datasets","DBI","dbplyr","digest","dplyr","ellipsis","evaluate","fansi","fastmap","forcats","fs","gargle","generics","ggplot2","glue","googledrive","googlesheets4","graphics","grDevices","grid","gtable","haven","highcharter","hms","htmltools","htmlwidgets","httpuv","httr","igraph","jsonlite","knitr","later","lattice","lifecycle","lubridate","magrittr","methods","mime","modelr","munsell","pillar","pkgconfig","promises","purrr","quantmod","R6","Rcpp","reactable","reactablefmtr","reactR","readr","readxl","renv","reprex","rlang","rlist","rmarkdown","rstudioapi","rvest","sass","scales","shiny","stats","stringi","stringr","tibble","tidyr","tidyselect","tidyverse","tools","Tplyr","TTR","tzdb","utf8","utils","vctrs","withr","xfun","xml2","xtable","xts","yaml","zoo"]},{"type":"character","attributes":{},"value":["0.2.1","1.4.1","4.2.1","1.0.1","1.1.0","3.4.1","2.0-3","4.2.1","1.5.2","4.3.3","1.14.4","4.2.1","1.1.3","2.2.1","0.6.29","1.0.10","0.3.2","0.16","1.0.3","1.1.0","0.5.2","1.5.2","1.2.1","0.1.3","3.3.6","1.6.2","2.0.0","1.0.1","4.2.1","4.2.1","4.2.1","0.3.1","2.5.1","0.9.4","1.1.2","0.5.3","1.5.4","1.6.6","1.4.4","1.3.5","1.8.0","1.40","1.3.0","0.20-45","1.0.3","1.8.0","2.0.3","4.2.1","0.12","0.1.9","0.5.0","1.8.1","2.0.3","1.2.0.1","0.3.5","0.4.20","2.5.1","1.0.9","0.3.0","2.0.0","0.4.4","2.1.3","1.4.1","0.15.5","2.0.2","1.0.6","0.4.6.2","2.16","0.14","1.0.3","0.4.2","1.2.1","1.7.3","4.2.1","1.7.8","1.4.1","3.1.8","1.2.1","1.2.0","1.3.2","4.2.1","1.0.1","0.24.3","0.3.0","1.2.2","4.2.1","0.5.0","2.5.0","0.32","1.3.3","1.8-4","0.12.2","2.3.5","1.8-11"]}]}]}
</script>
<!--/html_preserve-->


<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
</div> <!-- /container fluid -->



</body></html>